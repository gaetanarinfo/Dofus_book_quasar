(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"21c1":function(t,e,a){},"75fe":function(t,e,a){"use strict";a("21c1")},"87f3":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"q-pa-md"},[!0===t.loggedIn?a("mailbox",{attrs:{listMail:t.listMail}}):t._e()],1)},o=[],l=a("ded3"),i=a.n(l),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-12 col-xs-12"},[a("div",{staticClass:"column absolute-right text-center bg-transparent"},[a("q-avatar",{staticClass:"q-ma-md shadow-10",attrs:{size:"96px"}},[a("img",{attrs:{src:t.userData.avatar}})])],1),a("div",{staticClass:"absolute-center bg-transparent",staticStyle:{width:"700px"}},[a("div",{staticClass:"q-pa-md"},[a("q-markup-table",{staticStyle:{background:"#08080857 important!"}},[a("thead",[a("tr",[a("th",{attrs:{colspan:"5"}},[a("div",{staticClass:"row no-wrap items-center"},[a("div",{staticClass:"text-h4 text-white"},[t._v("Boîte de reception")])])])]),a("tr",{staticClass:"text-white"},[a("th",{staticClass:"text-center"},[t._v("Pseudo")]),a("th",{staticClass:"text-center"},[t._v("Nom")]),a("th",{staticClass:"text-center"},[t._v("Prénom")]),a("th",{staticClass:"text-center"},[t._v("Sujet")]),a("th",[t._v("Action")])])]),a("tbody",[t._l(t.listMail,(function(e){return a("tr",{key:e.id,staticClass:"text-white"},[a("td",{staticClass:"text-center"},[t._v(t._s(e.author))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.lastname))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.firstname))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.sujet))]),a("td",{staticClass:"text-center"},[a("q-btn",{attrs:{dense:"",round:"",flat:"",color:"green-5",icon:"check"},on:{click:function(a){return t.showModalMail(e)}}},[a("q-tooltip",{attrs:{anchor:"top middle",self:"center middle"}},[t._v("\n             Voir le message\n              ")])],1),a("q-btn",{attrs:{type:"button",dense:"",round:"",flat:"",color:"red-10",icon:"delete"},on:{click:function(a){return t.submitDeleteMail(""+e._id)}}},[a("q-tooltip",{attrs:{anchor:"top middle",self:"center middle"}},[t._v("\n             Supprimer le message\n              ")])],1)],1)])})),t.modalMail?a("modalMail",{attrs:{modal:t.modalMail,data:t.mail},on:{"update:modal":function(e){t.modalMail=e},closeModalMail:function(e){return t.closeModal()}}}):t._e()],2)])],1)])])])},r=[],c=a("2f62"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md q-gutter-sm"},[a("q-dialog",{attrs:{persistent:""},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("q-card",{staticStyle:{background:"#535658bf !important",color:"white"}},[a("q-toolbar",[a("q-avatar",[a("img",{attrs:{src:t.data.avatar}})]),a("q-toolbar-title",[a("span",{staticClass:"text-weight-bold"},[t._v("Message de "+t._s(t.data.lastname))]),a("span",{staticClass:"text-weight-bold"},[t._v(" "+t._s(t.data.firstname))])]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",icon:"close"},on:{click:function(e){return t.$emit("closeModalMail")}}},[a("q-tooltip",{attrs:{anchor:"top middle",self:"center middle"}},[t._v("\n             Fermer le message\n              ")])],1),a("q-btn",{attrs:{flat:"",round:"",dense:"",rounded:"",icon:"check",clickable:""},on:{click:function(e){return t.submitDeleteMail(t.data._id,t.data.recipient)}}},[a("q-tooltip",{attrs:{anchor:"top middle",self:"center middle"}},[t._v("\n             Supprimer le message\n              ")])],1)],1),a("q-card-section",[t._v("\n        "+t._s(t.data.content)+"\n      ")])],1)],1)],1)},m=[],u={components:{},methods:i()({submitDeleteMail(t,e){const a={id:t,recipient:e};this.removeMailBox(a),this.$emit("closeModalMail")}},Object(c["b"])("auth",["removeMailBox"])),props:{modal:{default:!1},data:{type:Object},delete:{type:Boolean}}},p=u,h=a("2877"),b=a("24e8"),v=a("f09f"),g=a("65c6"),f=a("cb32"),M=a("6ac5"),_=a("9c40"),x=a("05c0"),C=a("a370"),k=a("7f67"),q=a("eebe"),w=a.n(q),j=Object(h["a"])(p,d,m,!1,null,null,null),y=j.exports;w()(j,"components",{QDialog:b["a"],QCard:v["a"],QToolbar:g["a"],QAvatar:f["a"],QToolbarTitle:M["a"],QBtn:_["a"],QTooltip:x["a"],QCardSection:C["a"]}),w()(j,"directives",{ClosePopup:k["a"]});a("3022");var O={name:"mailbox",data(){return{modalMail:!1,mail:null,userData:{avatar:""}}},methods:i()(i()(i()({mountedData(){this.userData.avatar=this.listUser.avatar},showModalMail(t){this.mail=t,this.modalMail=!0},closeModal(){this.modalMail=!1},submitDeleteMail(t){this.removeMailBox(t)},checkAuth(){this.loggedDataUser(),setTimeout(this.checkAuth,2500)}},Object(c["b"])("auth",["getProfil"])),Object(c["b"])("auth",["loggedDataUser"])),Object(c["b"])("auth",["removeMailBox"])),components:{modalMail:y},computed:i()({},Object(c["d"])("auth",["listUser"])),mounted(){this.checkAuth(),this.mountedData()},props:{listMail:Array}},D=O,Q=a("2bb1"),A=Object(h["a"])(D,n,r,!1,null,null,null),B=A.exports;w()(A,"components",{QAvatar:f["a"],QMarkupTable:Q["a"],QBtn:_["a"],QTooltip:x["a"]});var T={meta(){return{title:"Dofus Book - Boîte de réception",description:{name:"description",content:"Plusieurs milliers de joueurs dans le monde. DOFUS est un jeu de rôle massivement multijoueur où le but est de retrouver les 6 précieux Dofus pour devenir maître d'Amakna."},keywords:{name:"keywords",content:"mmo, mmorpg, free mmorpg, free online mmorpg, video game, video game rental, video game system, free video game, online game, multiplayer game, free multiplayer game, dofus community, comics, pc game, pc game cheat, game, free game, online game, toy game, addicting game"},equiv:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"}}},data(){return{tab:"mailbox",userPseudo:""}},methods:i()(i()(i()({checkAuth(){this.logged(),setTimeout(this.checkAuth,2500)}},Object(c["b"])("auth",["getProfil"])),Object(c["b"])("auth",["logged"])),Object(c["b"])("auth",["getListMail"])),computed:i()(i()(i()({},Object(c["d"])("auth",["listUser"])),Object(c["d"])("auth",["loggedIn"])),Object(c["d"])("auth",["listMail"])),components:{mailbox:B},mounted(){this.checkAuth(),this.getListMail(this.listUser.pseudo)}},P=T,S=(a("75fe"),a("9989")),U=Object(h["a"])(P,s,o,!1,null,null,null);e["default"]=U.exports;w()(U,"components",{QPage:S["a"]})}}]);